# Deduplication of jobs using Job Schedulers

Sometimes it is desired to deduplicate jobs that are generated by job schedulers to save resources and avoid unnecesary work:

Deduplication options are not available on [`JobSchedulerTemplateOptions`](https://api.docs.bullmq.io/types/v5.JobSchedulerTemplateOptions.html) because iterations need to be generated always, but it could be handled in a different way, so let's see an example:

```typescript
import { Queue, Worker } from 'bullmq';

const myQueue = new Queue('Paint');

const worker = new Worker(
  'Paint',
  async job => {
    // Add a job that will be deduplicated for 90 seconds.
    await myQueue.add(
    'house',
    { color: 'white' },
    { deduplication: { id: 'customValue', ttl: 90000 } },
    );
  },
  { connection },
);

await myQueue.upsertJobScheduler(
    'repeat',
    {
    pattern: '* * * * *', // every minute
    },
);
```

In this way, you can deduplicate a job when using job schedulers.

## Read more:

- ðŸ’¡ [Add Job API Reference](https://api.docs.bullmq.io/classes/v5.Queue.html#add)
- ðŸ’¡ [Upsert Job Scheduler API Reference](https://api.docs.bullmq.io/classes/v5.Queue.html#upsertJobScheduler)
